{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from \"react\";\n\nconst useCanvas = draw => {\n  _s();\n\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    let frameCount = 0;\n    let animationFrameId;\n    canvas.addEventListener(\"mousedown\", function (e) {\n      console.log(\"here\");\n    });\n\n    const render = () => {\n      frameCount++;\n      draw(context, frameCount);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n\n    render();\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw]);\n  return canvasRef;\n};\n\n_s(useCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\nexport default useCanvas;","map":{"version":3,"names":["useRef","useEffect","useCanvas","draw","canvasRef","canvas","current","context","getContext","frameCount","animationFrameId","addEventListener","e","console","log","render","window","requestAnimationFrame","cancelAnimationFrame"],"sources":["/Users/apb/Coding/base/src/hooks/useCanvas.js"],"sourcesContent":["import { useRef, useEffect } from \"react\";\n\nconst useCanvas = (draw) => {\n  const canvasRef = useRef(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    let frameCount = 0;\n    let animationFrameId;\n    canvas.addEventListener(\"mousedown\", function (e) {\n      console.log(\"here\");\n    });\n    const render = () => {\n      frameCount++;\n      draw(context, frameCount);\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n    render();\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, [draw]);\n\n  return canvasRef;\n};\n\nexport default useCanvas;\n"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;AAEA,MAAMC,SAAS,GAAIC,IAAD,IAAU;EAAA;;EAC1B,MAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMI,MAAM,GAAGD,SAAS,CAACE,OAAzB;IACA,MAAMC,OAAO,GAAGF,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAhB;IACA,IAAIC,UAAU,GAAG,CAAjB;IACA,IAAIC,gBAAJ;IACAL,MAAM,CAACM,gBAAP,CAAwB,WAAxB,EAAqC,UAAUC,CAAV,EAAa;MAChDC,OAAO,CAACC,GAAR,CAAY,MAAZ;IACD,CAFD;;IAGA,MAAMC,MAAM,GAAG,MAAM;MACnBN,UAAU;MACVN,IAAI,CAACI,OAAD,EAAUE,UAAV,CAAJ;MACAC,gBAAgB,GAAGM,MAAM,CAACC,qBAAP,CAA6BF,MAA7B,CAAnB;IACD,CAJD;;IAKAA,MAAM;IAEN,OAAO,MAAM;MACXC,MAAM,CAACE,oBAAP,CAA4BR,gBAA5B;IACD,CAFD;EAGD,CAlBQ,EAkBN,CAACP,IAAD,CAlBM,CAAT;EAoBA,OAAOC,SAAP;AACD,CAxBD;;GAAMF,S;;AA0BN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}